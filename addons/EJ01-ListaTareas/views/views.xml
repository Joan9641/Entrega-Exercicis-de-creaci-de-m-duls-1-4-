<odoo>
  <data>
    <!-- Acción para listar las tareas -->
    <record model="ir.actions.act_window" id="action_lista_tareas">
      <field name="name">Listado de Tareas Pendientes</field>
      <field name="res_model">lista_tareas.lista</field>
      <field name="view_mode">kanban,tree,form,calendar</field> <!-- Añadimos 'kanban' -->
    </record>

    <!-- Menú Raíz -->
    <menuitem name="Gestión de Tareas" id="lista_tareas_menu_root" />

    <!-- Submenú Principal -->
    <menuitem name="Opciones de la Lista de Tareas" id="lista_tareas_menu_1" parent="lista_tareas_menu_root" />
    <menuitem name="Ver Lista de Tareas" id="lista_tareas_menu_1_list" parent="lista_tareas_menu_1" action="action_lista_tareas" />

    <!-- Vista Tree (Lista) -->
    <record model="ir.ui.view" id="lista_tareas_tree">
      <field name="name">Vista de Lista de Tareas</field>
      <field name="model">lista_tareas.lista</field>
      <field name="arch" type="xml">
        <tree>
          <field name="tarea" string="Tarea" />
          <field name="prioridad" string="Prioridad" />
          <field name="urgente" string="Urgente" />
          <field name="realizada" string="Realizada" />
        </tree>
      </field>
    </record>

    <!-- Vista Calendar -->
    <record model="ir.ui.view" id="lista_tareas_calendar">
      <field name="name">Vista de Calendario de Tareas</field>
      <field name="model">lista_tareas.lista</field>
      <field name="arch" type="xml">
        <calendar string="Calendario de Tareas" date_start="fecha_inicio" date_stop="fecha_fin">
          <field name="tarea" string="Tarea" />
          <field name="prioridad" string="Prioridad" />
        </calendar>
      </field>
    </record>

    <!-- Vista Kanban -->
    <record model="ir.ui.view" id="lista_tareas_kanban">
      <field name="name">Vista Kanban de Tareas</field>
      <field name="model">lista_tareas.lista</field>
      <field name="arch" type="xml">
        <kanban>
          <field name="tarea" string="Tarea" />
          <field name="prioridad" string="Prioridad" />
          <field name="urgente" string="Urgente" />
          <field name="realizada" string="Realizada" />
          <templates>
            <t t-name="kanban-box">
              <div class="oe_kanban_card">
                <strong><field name="tarea" /></strong>
                <div><field name="prioridad" /></div>
                <div>
                  <span t-if="record.urgente.raw_value" class="badge badge-danger">Urgente</span>
                </div>
                <div t-if="record.realizada.raw_value" class="oe_kanban_footer">
                  <span class="text-success">✔ Realizada</span>
                </div>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>
  </data>
</odoo>

